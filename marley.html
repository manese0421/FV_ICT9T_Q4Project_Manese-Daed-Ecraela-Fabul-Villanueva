<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>marm4lad3_xoxo's space</title>
  <link href="https://fonts.googleapis.com/css2?family=Cherry+Cream+Soda&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cherry Cream Soda', cursive;
      margin: 0;
      overflow: hidden;
      background-image: url('https://i.ibb.co/95LMPH4/marleywallpaper.jpg');
      background-size: cover;
      background-repeat: no-repeat;
    }

    .window {
      width: 800px;
      height: 500px;
      background: #ff99cc;
      border: 2px solid #000000;
      border-radius: 8px;
      position: absolute;
      z-index: 1;
      box-shadow: 2px 2px 10px #00000030;
      overflow: auto;
    }

    .window-header {
      background: #fa008b;
      color: white;
      padding: 8px;
      cursor: move;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
    }

    .controls button {
      background: white;
      color: black;
      border: none;
      border-radius: 4px;
      margin-left: 5px;
      cursor: pointer;
      font-size: 12px;
      padding: 2px 6px;
    }

    .window-content {
      width: 100%;
      height: calc(100% - 40px);
      position: relative;
    }

    .window-content iframe {
      width: 100%;
      height: 100%;
      border: none;
      position: relative;
      z-index: 0;
    }

    #taskbar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 36px;
      background: #fa008b;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 10px;
      box-shadow: 0 -2px 5px #00000030;
      font-size: 14px;
      z-index: 999;
    }

    #minimized-windows button {
      margin-right: 5px;
      background: white;
      color: black;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      padding: 2px 6px;
    }

    #datetime {
      color: white;
      font-weight: bold;
      white-space: nowrap;
      font-size: 13px;
      position: absolute;
      right: 50px;
    }

    .profile-window {
      width: 200px;
      height: 250px;
      background: #ff99cc;
      border: 2px solid #000000;
      border-radius: 8px;
      position: absolute;
      top: 20px;
      right: 20px;
      box-shadow: 2px 2px 10px #00000030;
    }

    .profile-header {
      background: #fa008b;
      color: white;
      padding: 8px;
      text-align: center;
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
    }

    .profile-content {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 10px;
    }

    .profile-content img {
      border-radius: 50%;
      width: 150px;
      height: 160px;
      margin-bottom: 10px;
    }

    .profile-content .username {
      font-size: 14px;
      font-weight: bold;
      color: #000;
    }

    .second-container {
      width: 200px;
      height: 250px;
      background: #ff99cc;
      border: 2px solid #000000;
      border-radius: 8px;
      position: absolute;
      top: 280px;
      right: 20px;
      box-shadow: 2px 2px 10px #00000030;
    }

    .second-container-header {
      background: #fa008b;
      color: white;
      padding: 8px;
      text-align: center;
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
    }

    .second-container-content {
      padding: 10px;
      text-align: center;
    }
    
    .third-container {
      width: 200px;
      height: 310px;
      background: #ff99cc;
      border: 2px solid #000000;
      border-radius: 8px;
      position: absolute;
      top: 20px;
      right: 240px;
      box-shadow: 2px 2px 10px #00000030;
    }

    .third-container-header {
      background: #fa008b;
      color: white;
      padding: 8px;
      text-align: center;
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
    }

    .third-container-content {
      padding: 10px;
      text-align: center;
    }
  </style>
</head>
<body>

<div id="win1" class="window" onclick="bringToFront('win1')">
  <div class="window-header" onmousedown="dragStart(event, 'win1')">
    1st quarter!! >.<
    <div class="controls">
      <button onclick="minimize('win1')">_</button>
      <button onclick="fullscreen('https://manese0421.github.io/Q1-Project/', 'win1')">[]</button>
      <button onclick="minimize('win1', true)">X</button> <!-- Now minimize when clicked -->
    </div>
  </div>
  <div class="window-content">
    <iframe src="https://manese0421.github.io/Q1-Project/"></iframe>
  </div>
</div>

<div id="win2" class="window" onclick="bringToFront('win2')">
  <div class="window-header" onmousedown="dragStart(event, 'win2')">
    ₊ ⊹ 2nd quarter
    <div class="controls">
      <button onclick="minimize('win2')">_</button>
      <button onclick="fullscreen('https://manese0421.github.io/FV_ICT9Topaz_Q2Project_Manese_Marley/', 'win2')">[]</button>
      <button onclick="minimize('win2', true)">X</button>
    </div>
  </div>
  <div class="window-content">
    <iframe src="https://manese0421.github.io/FV_ICT9Topaz_Q2Project_Manese_Marley/"></iframe>
  </div>
</div>

<div id="win3" class="window" onclick="bringToFront('win3')">
  <div class="window-header" onmousedown="dragStart(event, 'win3')">
    3rd quarter ✩₊˚.
    <div class="controls">
      <button onclick="minimize('win3')">_</button>
      <button onclick="fullscreen('https://manese0421.github.io/FV_Manese_Q3Project/', 'win3')">[]</button>
      <button onclick="minimize('win3', true)">X</button>
    </div>
  </div>
  <div class="window-content">
    <iframe src="https://manese0421.github.io/FV_Manese_Q3Project/"></iframe>
  </div>
</div>

<div class="profile-window">
  <div class="profile-header">
    Profile
  </div>
  <div class="profile-content">
    <img src="https://i.pinimg.com/736x/e1/6d/24/e16d24a28ebbbe19cde9f98ee36dceb7.jpg" alt="Profile Picture">
    <div class="username">marm4lad3_xoxo</div>
  </div>
</div>

<div class="second-container">
  <div class="second-container-header">
    Status
  </div>
  <div class="second-container-content">
    <p>i am that girl :P</p>
    <p><b>Mood:</b> mehh...</p>
    <p><b>15 yrs old</b></p>
    <p><b>Last Login:</b> 04/21/2010</p>
  </div>
</div>

<div class="third-container">
    <div class="third-container-header">
      More Info!!
    </div>
    <div class="third-container-content">
      <p>windows r draggable :)</p>
      <p>u can full screen the pages if u want</p>
      <p>listen 2 dear maria, count me in by all time low when viewing</p>
      <p>thats all, tnx.</p>
    </div>
  </div>  

<div id="taskbar">
  <div id="minimized-windows"></div>
  <div id="datetime"></div>
</div>

<script>
  // stores the window currently being dragged
  let activeWindow = null;
  let offsetX, offsetY;

  // when you start dragging a window
  function dragStart(e, id) {
    activeWindow = document.getElementById(id); // get the window by its ID
    offsetX = e.clientX - activeWindow.offsetLeft; // how far mouse is from left edge of the window
    offsetY = e.clientY - activeWindow.offsetTop; // how far mouse is from top edge of the window
    document.onmousemove = drag; // keep calling drag while mouse moves
    document.onmouseup = () => { document.onmousemove = null; }; // stop dragging when mouse is released
  }

  // while dragging, move the window to follow the mouse
  function drag(e) {
    if (activeWindow) {
      activeWindow.style.left = e.clientX - offsetX + "px"; // update horizontal position
      activeWindow.style.top = e.clientY - offsetY + "px"; // update vertical position
    }
  }

  // clicking a window in the back brings it on top of the others
  function bringToFront(id) {
    const win = document.getElementById(id);
    // find the highest z-index of all windows
    const maxZ = Math.max(...Array.from(document.querySelectorAll('.window')).map(w => parseInt(w.style.zIndex) || 1));
    win.style.zIndex = maxZ + 1; // set this window's z-index to be the highest
  }

  // minimizes a window and adds a button to bring it back
  function minimize(id) {
    const win = document.getElementById(id);
    win.style.display = "none"; // hide the window

    const minimizedContainer = document.getElementById("minimized-windows");

    // checks if there's already a button for the window
    if (!document.getElementById("btn-" + id)) {
      const btn = document.createElement("button");
      btn.id = "btn-" + id;

      // get the window title (just the first line)
      btn.innerText = win.querySelector(".window-header").innerText.split('\n')[0].trim();

      // clicking the button opens the window again
      btn.onclick = () => {
        win.style.display = "block"; // show the window
        bringToFront(id); // bring it to front
        btn.remove(); // remove the button
      };

      minimizedContainer.appendChild(btn); // add the button to the minimized area
    }
  }

  // makes a window fullscreen and loads the given URL into its iframe
  function fullscreen(src, id) {
    const win = document.getElementById(id);
    const content = win.querySelector(".window-content");
    const iframe = content.querySelector("iframe");

    // make the iframe fill the window
    iframe.style.position = "absolute";
    iframe.style.top = "0";
    iframe.style.left = "0";
    iframe.style.width = "100%";
    iframe.style.height = "100%";
    iframe.style.zIndex = "0";

    iframe.src = src; // load the URL

    // resize the window to fullscreen
    win.style.width = "100%";
    win.style.height = "100%";
    win.style.top = "0";
    win.style.left = "0";
  }

  // updates the date and time every second
  function updateDateTime() {
    const now = new Date();
    // format date to look like Month Day, Year
    const date = now.toLocaleDateString(undefined, { month: 'short', day: 'numeric', year: 'numeric' });
    // format time to look like 0:00
    const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    document.getElementById('datetime').textContent = `${date} • ${time}`;
  }

  // keep refreshing the clock every second
  setInterval(updateDateTime, 1000);
  updateDateTime(); // also run it once immediately
</script>

</body>
</html>